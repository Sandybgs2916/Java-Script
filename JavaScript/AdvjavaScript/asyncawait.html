<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asyncawait</title>
</head>
<body>
    <script>
        // without promises we can't use async await
        const obj1 = new Promise((resolve, reject) => {
            setTimeout(() => {
                let roll_no = [1, 2, 3, 4, 5];
                resolve(roll_no); // resolve function means our promises success
            }, 2000);
        });
        // 2 method to use promise i.e promise with the help of function
        const getBioData = (indexdata) => {
            return new Promise((resolve, reject) => {
                setTimeout((indexdata) => { // indexdata as a parameter passed in setTimeout
                    let biodata = {
                        name: 'Sandeep',
                        age: 22
                    }
                    resolve(`My name is ${biodata.name} and I am ${biodata.age} and My roll no is ${indexdata}.`)
                }, 2000, indexdata) // indexdata will accept whatever indexdata value of setTimeout would be
            });
        }
        // promise consume
        /* obj1.then((rollno) => { 
            console.log(rollno);// 
            return getBioData(rollno[1]); 
        }).then((anything) => {
            console.log(anything); 
        }).catch((error) => { // if promise get rejected then we will use "catch" method to fetch reject function data
            console.log(error);
        }) */ 
        // above commented code we will write with the help of async and await.
        async function getData(){ // async makes a function return promise
           const rollnodata = await obj1; // wait to get the data. 
           console.log(rollnodata);
           const data = await getBioData(rollnodata[1]);
           console.log(data);
        }
        getData();

    </script>
    
</body>
</html>